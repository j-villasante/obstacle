{"version":3,"sources":["node_modules/browser-pack/_prelude.js","static/src/Ball.js","static/src/BallController.js","static/src/app.js","static/src/utils/index.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","class Ball {\n    constructor (context, x, y, r) {\n        this.x = x\n        this.y = y\n        this.radius = r\n        this.color = this.getRandomColor()\n        this.ctx = context\n    }\n\n    getRandomColor () {\n        return '#000000'.replace(/0/g, () => (~~(Math.random() * 16)).toString(16))\n    }\n\n    setSpeed (vx, vy) {\n        this.vx = vx\n        this.vy = vy\n    }\n\n    get centerPoint () {\n        return {\n            x: this.x,\n            y: this.y\n        }\n    }\n\n    setPosition (x, y) {\n        this.x = x\n        this.y = y\n    }\n\n    move () {\n        this.x += this.vx\n        this.y += this.vy\n    }\n\n    draw () {\n        this.ctx.beginPath()\n        this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, true)\n        this.ctx.closePath()\n        this.ctx.fillStyle = this.color\n        this.ctx.fill()\n    }\n}\n\nmodule.exports = Ball\n","const Ball = require('./Ball.js')\nconst utils = require('./utils')\n\nclass BallController {\n    constructor (context, canvas) {\n        this.ctx = context\n        this.canvas = canvas\n        this.balls = []\n    }\n\n    addBall (quantity = 1) {\n        let i = 0\n        while (i < quantity) {\n            let randRadius = utils.getRandomInt(10, 25)\n            let randomX = utils.getRandomInt(0 + randRadius, this.canvas.width - randRadius)\n            let randomY = utils.getRandomInt(0 + randRadius, this.canvas.height - randRadius)\n            let randSpeedX = utils.getRandomInt(3, 8)\n            let randSpeedY = utils.getRandomInt(3, 8)\n            let ball = new Ball(this.ctx, randomX, randomY, randRadius)\n            ball.setSpeed(randSpeedX, randSpeedY)\n            this.balls.push(ball)\n            i++\n        }\n    }\n\n    moveBalls () {\n        for (let ball of this.balls) {\n            if (ball.y + ball.vy + ball.radius > this.canvas.height || ball.y + ball.vy - ball.radius < 0) {\n                ball.vy = -ball.vy\n            }\n\n            if (ball.x + ball.vx + ball.radius > this.canvas.width || ball.x + ball.vx - ball.radius < 0) {\n                ball.vx = -ball.vx\n            }\n            ball.move()\n        }\n    }\n\n    detectColision () {\n        for (let ball of this.balls) {\n            let distance = utils.getDistanceBewteenPoints(this.staticBall.centerPoint, ball.centerPoint)\n            if (distance <= ball.radius + this.staticBall.radius) {\n                return true\n            }\n        }\n        return false\n    }\n\n    createStaticBall () {\n        this.staticBall = new Ball(this.ctx, 25, 25, 15)\n    }\n\n    moveBallOnMouseMove (e) {\n        let rect = this.canvas.getBoundingClientRect()\n        this.staticBall.setPosition(e.clientX - rect.left, e.clientY - rect.top)\n    }\n\n    render () {\n        for (let ball of this.balls) {\n            ball.draw()\n        }\n        this.staticBall.draw()\n    }\n}\n\nmodule.exports = BallController\n","const BallController = require('./BallController.js')\n\nclass Main {\n    constructor () {\n        this.canvas = document.getElementById('canvas')\n        this.spanBalls = document.getElementById('span-balls')\n        this.ctx = this.canvas.getContext('2d')\n        this.ballCount = 3\n        this.increment = 1\n    }\n\n    setNewBallsController () {\n        this.controller = new BallController(this.ctx, this.canvas)\n    }\n\n    animate () {\n        this.ctx.fillStyle = 'rgba(255, 255, 255, 0.6)'\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height)\n        this.controller.moveBalls()\n        this.controller.render()\n        if (this.controller.detectColision()) {\n            this.ctx.fillStyle = 'rgba(255, 255, 255, 0.8)'\n            this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height)\n            this.ctx.fillStyle = '#FF0000'\n            this.ctx.font = '48px serif'\n            this.ctx.fillText('Game over', 0, 100)\n        } else {\n            window.requestAnimationFrame(() => this.animate())\n        }\n    }\n\n    start () {\n        this.controller.addBall(this.ballCount)\n        this.controller.createStaticBall()\n        this.animate(this.controller)\n        setInterval(() => {\n            this.controller.addBall(this.increment)\n            this.ballCount += this.increment\n            this.spanBalls.innerHTML = this.ballCount\n            this.increment++\n        }, 10000)\n        this.canvas.addEventListener('mousemove', e => this.controller.moveBallOnMouseMove(e))\n    }\n}\n\nlet main = new Main()\nmain.setNewBallsController()\nmain.start()\n","class Utils {\n    /**\n     * Returns a random number between min (inclusive) and max (exclusive)\n     */\n    getRandomArbitrary (min, max) {\n        return Math.random() * (max - min) + min\n    }\n\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    getRandomInt (min, max) {\n        return Math.floor(Math.random() * (max - min + 1)) + min\n    }\n\n    getDistanceBewteenPoints (a, b) {\n        return Math.hypot(a.x - b.x, a.y - b.y)\n    }\n}\n\nmodule.exports = new Utils()\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzdGF0aWMvc3JjL0JhbGwuanMiLCJzdGF0aWMvc3JjL0JhbGxDb250cm9sbGVyLmpzIiwic3RhdGljL3NyYy9hcHAuanMiLCJzdGF0aWMvc3JjL3V0aWxzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjbGFzcyBCYWxsIHtcbiAgICBjb25zdHJ1Y3RvciAoY29udGV4dCwgeCwgeSwgcikge1xuICAgICAgICB0aGlzLnggPSB4XG4gICAgICAgIHRoaXMueSA9IHlcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByXG4gICAgICAgIHRoaXMuY29sb3IgPSB0aGlzLmdldFJhbmRvbUNvbG9yKClcbiAgICAgICAgdGhpcy5jdHggPSBjb250ZXh0XG4gICAgfVxuXG4gICAgZ2V0UmFuZG9tQ29sb3IgKCkge1xuICAgICAgICByZXR1cm4gJyMwMDAwMDAnLnJlcGxhY2UoLzAvZywgKCkgPT4gKH5+KE1hdGgucmFuZG9tKCkgKiAxNikpLnRvU3RyaW5nKDE2KSlcbiAgICB9XG5cbiAgICBzZXRTcGVlZCAodngsIHZ5KSB7XG4gICAgICAgIHRoaXMudnggPSB2eFxuICAgICAgICB0aGlzLnZ5ID0gdnlcbiAgICB9XG5cbiAgICBnZXQgY2VudGVyUG9pbnQgKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy54LFxuICAgICAgICAgICAgeTogdGhpcy55XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRQb3NpdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4XG4gICAgICAgIHRoaXMueSA9IHlcbiAgICB9XG5cbiAgICBtb3ZlICgpIHtcbiAgICAgICAgdGhpcy54ICs9IHRoaXMudnhcbiAgICAgICAgdGhpcy55ICs9IHRoaXMudnlcbiAgICB9XG5cbiAgICBkcmF3ICgpIHtcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKClcbiAgICAgICAgdGhpcy5jdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpXG4gICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3JcbiAgICAgICAgdGhpcy5jdHguZmlsbCgpXG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJhbGxcbiIsImNvbnN0IEJhbGwgPSByZXF1aXJlKCcuL0JhbGwuanMnKVxuY29uc3QgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJylcblxuY2xhc3MgQmFsbENvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yIChjb250ZXh0LCBjYW52YXMpIHtcbiAgICAgICAgdGhpcy5jdHggPSBjb250ZXh0XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzXG4gICAgICAgIHRoaXMuYmFsbHMgPSBbXVxuICAgIH1cblxuICAgIGFkZEJhbGwgKHF1YW50aXR5ID0gMSkge1xuICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgd2hpbGUgKGkgPCBxdWFudGl0eSkge1xuICAgICAgICAgICAgbGV0IHJhbmRSYWRpdXMgPSB1dGlscy5nZXRSYW5kb21JbnQoMTAsIDI1KVxuICAgICAgICAgICAgbGV0IHJhbmRvbVggPSB1dGlscy5nZXRSYW5kb21JbnQoMCArIHJhbmRSYWRpdXMsIHRoaXMuY2FudmFzLndpZHRoIC0gcmFuZFJhZGl1cylcbiAgICAgICAgICAgIGxldCByYW5kb21ZID0gdXRpbHMuZ2V0UmFuZG9tSW50KDAgKyByYW5kUmFkaXVzLCB0aGlzLmNhbnZhcy5oZWlnaHQgLSByYW5kUmFkaXVzKVxuICAgICAgICAgICAgbGV0IHJhbmRTcGVlZFggPSB1dGlscy5nZXRSYW5kb21JbnQoMywgOClcbiAgICAgICAgICAgIGxldCByYW5kU3BlZWRZID0gdXRpbHMuZ2V0UmFuZG9tSW50KDMsIDgpXG4gICAgICAgICAgICBsZXQgYmFsbCA9IG5ldyBCYWxsKHRoaXMuY3R4LCByYW5kb21YLCByYW5kb21ZLCByYW5kUmFkaXVzKVxuICAgICAgICAgICAgYmFsbC5zZXRTcGVlZChyYW5kU3BlZWRYLCByYW5kU3BlZWRZKVxuICAgICAgICAgICAgdGhpcy5iYWxscy5wdXNoKGJhbGwpXG4gICAgICAgICAgICBpKytcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVCYWxscyAoKSB7XG4gICAgICAgIGZvciAobGV0IGJhbGwgb2YgdGhpcy5iYWxscykge1xuICAgICAgICAgICAgaWYgKGJhbGwueSArIGJhbGwudnkgKyBiYWxsLnJhZGl1cyA+IHRoaXMuY2FudmFzLmhlaWdodCB8fCBiYWxsLnkgKyBiYWxsLnZ5IC0gYmFsbC5yYWRpdXMgPCAwKSB7XG4gICAgICAgICAgICAgICAgYmFsbC52eSA9IC1iYWxsLnZ5XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChiYWxsLnggKyBiYWxsLnZ4ICsgYmFsbC5yYWRpdXMgPiB0aGlzLmNhbnZhcy53aWR0aCB8fCBiYWxsLnggKyBiYWxsLnZ4IC0gYmFsbC5yYWRpdXMgPCAwKSB7XG4gICAgICAgICAgICAgICAgYmFsbC52eCA9IC1iYWxsLnZ4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYWxsLm1vdmUoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGV0ZWN0Q29saXNpb24gKCkge1xuICAgICAgICBmb3IgKGxldCBiYWxsIG9mIHRoaXMuYmFsbHMpIHtcbiAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IHV0aWxzLmdldERpc3RhbmNlQmV3dGVlblBvaW50cyh0aGlzLnN0YXRpY0JhbGwuY2VudGVyUG9pbnQsIGJhbGwuY2VudGVyUG9pbnQpXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gYmFsbC5yYWRpdXMgKyB0aGlzLnN0YXRpY0JhbGwucmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjcmVhdGVTdGF0aWNCYWxsICgpIHtcbiAgICAgICAgdGhpcy5zdGF0aWNCYWxsID0gbmV3IEJhbGwodGhpcy5jdHgsIDI1LCAyNSwgMTUpXG4gICAgfVxuXG4gICAgbW92ZUJhbGxPbk1vdXNlTW92ZSAoZSkge1xuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIHRoaXMuc3RhdGljQmFsbC5zZXRQb3NpdGlvbihlLmNsaWVudFggLSByZWN0LmxlZnQsIGUuY2xpZW50WSAtIHJlY3QudG9wKVxuICAgIH1cblxuICAgIHJlbmRlciAoKSB7XG4gICAgICAgIGZvciAobGV0IGJhbGwgb2YgdGhpcy5iYWxscykge1xuICAgICAgICAgICAgYmFsbC5kcmF3KClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRpY0JhbGwuZHJhdygpXG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJhbGxDb250cm9sbGVyXG4iLCJjb25zdCBCYWxsQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vQmFsbENvbnRyb2xsZXIuanMnKVxuXG5jbGFzcyBNYWluIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpXG4gICAgICAgIHRoaXMuc3BhbkJhbGxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwYW4tYmFsbHMnKVxuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgdGhpcy5iYWxsQ291bnQgPSAzXG4gICAgICAgIHRoaXMuaW5jcmVtZW50ID0gMVxuICAgIH1cblxuICAgIHNldE5ld0JhbGxzQ29udHJvbGxlciAoKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBCYWxsQ29udHJvbGxlcih0aGlzLmN0eCwgdGhpcy5jYW52YXMpXG4gICAgfVxuXG4gICAgYW5pbWF0ZSAoKSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNiknXG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpXG4gICAgICAgIHRoaXMuY29udHJvbGxlci5tb3ZlQmFsbHMoKVxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVuZGVyKClcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlci5kZXRlY3RDb2xpc2lvbigpKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJ1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodClcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjRkYwMDAwJ1xuICAgICAgICAgICAgdGhpcy5jdHguZm9udCA9ICc0OHB4IHNlcmlmJ1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFRleHQoJ0dhbWUgb3ZlcicsIDAsIDEwMClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5hbmltYXRlKCkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5hZGRCYWxsKHRoaXMuYmFsbENvdW50KVxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuY3JlYXRlU3RhdGljQmFsbCgpXG4gICAgICAgIHRoaXMuYW5pbWF0ZSh0aGlzLmNvbnRyb2xsZXIpXG4gICAgICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hZGRCYWxsKHRoaXMuaW5jcmVtZW50KVxuICAgICAgICAgICAgdGhpcy5iYWxsQ291bnQgKz0gdGhpcy5pbmNyZW1lbnRcbiAgICAgICAgICAgIHRoaXMuc3BhbkJhbGxzLmlubmVySFRNTCA9IHRoaXMuYmFsbENvdW50XG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudCsrXG4gICAgICAgIH0sIDEwMDAwKVxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlID0+IHRoaXMuY29udHJvbGxlci5tb3ZlQmFsbE9uTW91c2VNb3ZlKGUpKVxuICAgIH1cbn1cblxubGV0IG1haW4gPSBuZXcgTWFpbigpXG5tYWluLnNldE5ld0JhbGxzQ29udHJvbGxlcigpXG5tYWluLnN0YXJ0KClcbiIsImNsYXNzIFV0aWxzIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIG1pbiAoaW5jbHVzaXZlKSBhbmQgbWF4IChleGNsdXNpdmUpXG4gICAgICovXG4gICAgZ2V0UmFuZG9tQXJiaXRyYXJ5IChtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIChpbmNsdXNpdmUpIGFuZCBtYXggKGluY2x1c2l2ZSlcbiAgICAgKiBVc2luZyBNYXRoLnJvdW5kKCkgd2lsbCBnaXZlIHlvdSBhIG5vbi11bmlmb3JtIGRpc3RyaWJ1dGlvbiFcbiAgICAgKi9cbiAgICBnZXRSYW5kb21JbnQgKG1pbiwgbWF4KSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluXG4gICAgfVxuXG4gICAgZ2V0RGlzdGFuY2VCZXd0ZWVuUG9pbnRzIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmh5cG90KGEueCAtIGIueCwgYS55IC0gYi55KVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVXRpbHMoKVxuIl19"}